# JIRA 티켓 완료

PR을 머지하고 JIRA 티켓을 완료 처리합니다.

## 작업 순서

1. 현재 브랜치 확인:
   ```bash
   git branch --show-current
   ```

2. PR 상태 확인:
   ```bash
   gh pr status
   gh pr checks
   ```

3. PR 체크 결과 검증:
   - CI/CD 파이프라인 통과 확인
   - 리뷰 승인 확인
   - 충돌 없음 확인

4. 사용자에게 최종 확인 요청:
   - "PR을 머지하고 티켓을 완료하시겠습니까?"
   - 테스트 결과 요약 표시

5. 승인 받으면 PR 머지 (Squash & Merge):
   ```bash
   gh pr merge --squash --delete-branch
   ```

6. 로컬 main 브랜치 업데이트:
   ```bash
   git checkout main
   git pull origin main
   ```

7. JIRA 티켓 완료 안내:
   - JIRA 티켓 번호 추출
   - 사용자에게 JIRA에서 티켓을 "완료" 상태로 변경하도록 안내
   - 테스트 결과를 JIRA 티켓 코멘트에 추가하도록 안내

8. 작업 완료 요약:
   ```
   ✅ PR이 main 브랜치에 머지되었습니다.
   ✅ 작업 브랜치가 삭제되었습니다.
   ✅ 로컬 main 브랜치가 업데이트되었습니다.

   다음 작업:
   1. JIRA에서 [티켓번호] 티켓을 "완료" 상태로 변경
   2. 테스트 결과를 JIRA 티켓 코멘트에 기록

   새로운 작업을 시작하려면 /jira-start 명령어를 사용하세요.
   ```

## 예외 처리

- PR 체크가 실패한 경우: 머지하지 않고 사용자에게 알림
- 리뷰 승인이 없는 경우: 리뷰 요청 안내
- 충돌이 있는 경우: 충돌 해결 후 다시 시도 안내

## 주의사항

- PR 머지는 **반드시 모든 테스트가 통과한 후**에만 수행합니다.
- Squash & Merge를 사용하여 깔끔한 커밋 히스토리를 유지합니다.
- 작업 브랜치는 자동으로 삭제됩니다.
